<?xml version="1.0"?>
<table name="00000074">
	<table name="categories">
		<boolean name="Software Engineering" value="true"/>
		</table>
	<boolean name="flNotOnHomePage" value="false"/>
	<table name="notified">
		<boolean name="homepage" value="true"/>
		</table>
	<string name="text" value="&lt;P&gt;To night I worked on figuring out a storage location for comments and the like relating to images.&amp;nbsp; Since windows provides a file properties dialog with a summary tab that allows one to enter such meta data as author, comments, subject, title etc.&amp;nbsp;this seems like a logical location to store the data.&amp;nbsp; I went ahead and modified the data using the Windows Explorer and then proceeded to figure out where the data was stored.&amp;nbsp; It appears that it is located in some of EXIF properties on the JPEG file.&amp;nbsp; To find out the exact location I wrote the following C# program:&lt;/P&gt;&#013;&#010;&lt;BLOCKQUOTE dir=ltr style=&quot;MARGIN-RIGHT: 0px&quot;&gt;&#013;&#010;&lt;P&gt;&lt;FONT face=Monospace size=2&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;using&lt;/SPAN&gt; System;&lt;?xml:namespace prefix = o ns = &quot;urn:schemas-microsoft-com:office:office&quot; /&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;COLOR: green&quot;&gt;// A manual reference to System.Drawing.DLL needs to be made.&lt;o:p&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;BR&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;using&lt;/SPAN&gt; System.Drawing;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;using&lt;/SPAN&gt; System.Drawing.Imaging;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;o:p&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;namespace&lt;/SPAN&gt; FunWithImages&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 1&quot;&gt;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;class&lt;/SPAN&gt; EntryPoint&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 1&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 2&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;[STAThread]&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 2&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;static&lt;/SPAN&gt; &lt;SPAN style=&quot;COLOR: blue&quot;&gt;void&lt;/SPAN&gt; &lt;?xml:namespace prefix = st1 ns = &quot;urn:schemas-microsoft-com:office:smarttags&quot; /&gt;&lt;st1:place w:st=&quot;on&quot;&gt;Main&lt;/st1:place&gt;(&lt;SPAN style=&quot;COLOR: blue&quot;&gt;string&lt;/SPAN&gt;[] args)&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 2&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 3&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;Image image = &lt;SPAN style=&quot;COLOR: blue&quot;&gt;new&lt;/SPAN&gt; Bitmap(@&quot;..\..\tower.jpg&quot;);&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 3&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;PropertyItem item;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 3&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;foreach&lt;/SPAN&gt;( &lt;SPAN style=&quot;COLOR: blue&quot;&gt;int&lt;/SPAN&gt; id &lt;SPAN style=&quot;COLOR: blue&quot;&gt;in&lt;/SPAN&gt; image.PropertyIdList )&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 3&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;try&lt;/SPAN&gt;&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;item = image.GetPropertyItem( id );&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;System.Console.Write(&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;string&lt;/SPAN&gt;.Format(&quot;{0:20} - {1:20}(0x{2:x})&quot;,&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;((ImagePropertyIDTags)item.Id).ToString(),&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;((ImagePropertyTtypes)item.Type).ToString(),&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;item.Id)&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;);&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;for&lt;/SPAN&gt;(&lt;SPAN style=&quot;COLOR: blue&quot;&gt;int&lt;/SPAN&gt; i = 0; i &amp;lt; (item.Len -1); i++)&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;if&lt;/SPAN&gt;(((&lt;SPAN style=&quot;COLOR: blue&quot;&gt;char&lt;/SPAN&gt;)item.Value[i])!=&apos;\n&apos;)&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 6&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;System.Console.Write((&lt;SPAN style=&quot;COLOR: blue&quot;&gt;char&lt;/SPAN&gt;)item.Value[i]);&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;System.Console.WriteLine();&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;&lt;SPAN style=&quot;COLOR: blue&quot;&gt;catch&lt;/SPAN&gt;( Exception exception)&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;{&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 5&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/SPAN&gt;Console.WriteLine(&quot;ERROR: {0}&quot;, exception);&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 4&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;o:p&gt;&lt;SPAN style=&quot;mso-tab-count: 3&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 2&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;SPAN style=&quot;mso-tab-count: 1&quot;&gt;&amp;nbsp;&amp;nbsp;&lt;/SPAN&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;}&lt;o:p&gt;&lt;/o:p&gt;&lt;BR&gt;&lt;/P&gt;&lt;/BLOCKQUOTE&gt;&lt;o:p&gt;&#013;&#010;&lt;P dir=ltr&gt;The output from the program displays the image tag, type, id&amp;nbsp;and value information.&amp;nbsp; In order for this to work I had to create enums for the standard image type tags and image property tags.&amp;nbsp; You can retrieve these definitions from &lt;A href=&quot;http://mark.michaelis.net/weblog/downloads/GDIConstants.zip&quot;&gt;here&lt;/A&gt;&amp;nbsp;(I use the&amp;nbsp;TXT extension so download is easy).&amp;nbsp; This file was created from &lt;STRONG&gt;GDIConstants.h&lt;/STRONG&gt;.&lt;/P&gt;&#013;&#010;&lt;P dir=ltr&gt;What is interesting is that the tags&amp;nbsp;used by the&amp;nbsp;Windows File Explorer Summary tab are not standard.&amp;nbsp; Instead the ids for these items range from 40091&amp;nbsp;on up (to 40095 in my&amp;nbsp;one experiment).&amp;nbsp; To verify that these were not standard I&amp;nbsp;downloaded &lt;A href=&quot;http://www.webattack.com/get/jpegcomment.shtml&quot;&gt;JPEG Comment Editor 1.0&lt;/A&gt;&amp;nbsp;to see which tag it modified.&amp;nbsp; It turned out to be the &lt;STRONG&gt;PropertyTagExifUserComment&lt;/STRONG&gt; tag (not the same as the 40092 tag used by the summary tab.)&amp;nbsp; Interesting....&lt;/P&gt;&#013;&#010;&lt;P dir=ltr&gt;Anyway, the bottom line is that the&amp;nbsp;EXIF properties seem like a viable location for storing the data.&amp;nbsp; The advantage over XML or some such is that they are bound and automatically associated with the picture.&amp;nbsp; This seems significant to me.&amp;nbsp; &lt;/P&gt;&#013;&#010;&lt;P dir=ltr&gt;Next on the agenda is to determine how to write to the properties from code and then to retrieve the metadata for a web page.&amp;nbsp; I have a strong inclination at the moment to update the &lt;A href=&quot;http://sourceforge.net/projects/photoroom&quot;&gt;SourceForge&amp;nbsp;PhotoRoom&amp;nbsp;Project&lt;/A&gt; to display this metadata.&amp;nbsp; One detail to check, however, is how much data can&amp;nbsp;be placed&amp;nbsp;in one of the properties?&lt;/o:p&gt;&lt;/o:p&gt;&lt;/o:p&gt;&lt;/FONT&gt;&lt;/P&gt;"/>
	<string name="title" value="Retrieving Meta Data from JPEG Files Using C#"/>
	<table name="trackback">
		<table name="inbound">
			<table name="urls">
				</table>
			</table>
		<table name="outbound">
			<table name="urls">
				<table name="http://mark.michaelis.net/weblog/downloads/GDIConstants.zip">
					<boolean name="flChecked" value="true"/>
					<boolean name="flPinged" value="false"/>
					<boolean name="flSupportsTrackback" value="false"/>
					</table>
				<table name="http://sourceforge.net/projects/photoroom">
					<boolean name="flChecked" value="true"/>
					<boolean name="flPinged" value="false"/>
					<boolean name="flSupportsTrackback" value="false"/>
					</table>
				<table name="http://www.webattack.com/get/jpegcomment.shtml">
					<boolean name="flChecked" value="true"/>
					<boolean name="flPinged" value="false"/>
					<boolean name="flSupportsTrackback" value="false"/>
					</table>
				</table>
			</table>
		</table>
	<date name="when" value="Mon, 30 Dec 2002 11:45:28 GMT"/>
	</table>
